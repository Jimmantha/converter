<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="stylesheet" href="stylesheet.css">
</head>

<body>
  <div class="img-container col-6 p-0">
    <div id="gradient1" class=" border-black border-1" style="background-color: rgba(4, 255, 0, 0.307);"> </div>
    <div id="gradient2" class=" border-black border-1" style="background-color: rgba(255, 0, 0, 0.307);"> </div>
    <img src="https://placehold.co/600x400" usemap="#image-map" style="position: absolute !important; opacity: 0.1 !important;">
  </div>

  <map name="image-map">
    <area target="" alt="" name="rect1" title="" href="" coords="3,3,297,397" id="rec1" shape="rect">
    <area target="" alt="" mame="rect2" title="" href="" coords="301,0,599,393" id="rec2" shape="rect">
  </map>

  <!-- Modal 1 -->
  <div class="modal" id="modal1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Modal 1 Title</h5>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <p>This is modal 1 content.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal 2 -->
  <div class="modal" id="modal2">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Modal 2 Title</h5>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <p>This is modal 2 content.</p>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/imagemapster/1.6.0/jquery.imagemapster.min.js" integrity="sha512-pN76cI+qvzhIYcVCjDhav9lwE54k3+905qcLRsKFwRyVjgLEhgdSkA1imYqCLaTwr0IC/o8WasbRIOf+4atdAw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

  <script>
    $('img').mapster({
      showToolTip: true,
      singleSelect: true,
      enableAutoResizeSupport: true,
      autoResize: true,
      autoResizeDelay: 0,
      autoResizeDuration: 0,
      onClick: function(e) {
        onClick(e);
      },
      onAutoResize: function() {
        console.log('auto resized!');
        resizeGradient()
      },
      areas: [{
          key: 'rect1',
          toolTip: "This is tooltip for zone1"
        },
        {
          key: "rect2"
        }
      ]
    });

    var ref = ["modal1", "modal2"]

    function resizeGradient() {
      for (let i = 1; i < 3; i++) {
        gradient = document.getElementById("gradient" + i)
        var coords = document.getElementById("rec" + i).coords;
        var coordsArray = coords.split(',');
        gradient.style.left = coordsArray[0] + "px";
        gradient.style.top = coordsArray[1] + "px";
        gradient.style.width = (coordsArray[2] - coordsArray[0]) + "px";
        gradient.style.height = (coordsArray[3] - coordsArray[1]) + "px";
        gradient.style.position = "absolute";
      }
    };

    function onClick(e) {
      var modal = $('#' + ref[e.key]);
      modal.modal('show');
    }
  </script>

</html>